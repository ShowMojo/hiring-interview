### Please describe found weak places below.

#### Security issues

1. `config.force_ssl = true` is commented out in `production.rb`. No SSL is used.
2. `protect_from_forgery with: :exception` is required in `ApplicationController` so CSRF protection is enabled.
3. Transactions controller params are not sanitized and permitted as is:
   - we have faulty trust `params[:type]` would come as we expect and not be tampered with
   - we have faulty trust `params[:transaction]` are there and we permit everything as is
   - we have faulty trust `params[:transaction][:manager_id]` would come as we expect and not be tampered with
4. We do not authenticate users, so anyone can create transactions.
5. No need to pass values to forms to read them back - they could be changed by user.
#### Performance issues

1. Some performance issues are `Code issues` and would be gone
2. Transactions `index` page needs pagination, preloading of associated managers
3. No need to load managers for forms
4. Some validations could be done on a client side to spare extra roundtrips to server
5. Caching could be added in the future 
#### Code issues

1. The Bank rates are only requested once the app start(copilot added further)s,
   and are not updated afterwards. This means that the rates are not up to date,
   and the app is not usable in production.
   (end of copilot) The gem states the rates are updated once a day - so a cron job to update the cache with rates should be added.
    A way for app to update its rates from the cache should be added - check for `rates_updated_at` `Money` field
2. There are no tests
3. Database:
   - our cents columns are integers, so the can manage up to $21474836,47 - tops. We should use bigint instead.
   - our cents columns could be negative - we should validate that on DB level first
   - our uid column is string - could be uuid and value created by postgresql that could remove some performance issues of us generating 
     uids in callbacks with possible check for collisions
4. Transaction model:
   - could the name be a reserved word? Almost, ActiveRecord::Transactions#methods - there can be issues here.
   - validations for our cents columns are absent: presence, numericality, sign
   - add explicit validations for presence of required values: `from_amount_cents`, `from_currency`, `to_amount_cents`, `to_currency`
   - validation for currencies depends on external factor of rates - a record valid today may be invalid tomorrow
   - maybe a type-kind field should be added to not account for types dynamically - type would be derived at creation operation.
     If there is no need for type except of creation stage - no need for a field
   - validation for names, currencies and manager should be closer to business logic related to instance creation
     as our database is fine with all kinds of state: with or without names, with or without manager.
   
     Instance creation: params deserialization (Rails params processing, shaping of output if needed), 
     params validation (check if values of deserialized params are valid), 
     Creation operation (business logic validations, conversion, manager here, type-kind derivation and record persistence)
   - remove callbacks from model (uuid generated by db and the current way is silly, 
     convert is strange piece of code)
5. There is a mess with Transactions controller actions and views: mess in names, mess in logic.
   Leaving several `new` partials creates a UX problem for user to decide and make a mistake of choosing a wrong form (leading to several trips to our server).
   DX problem of managing several partials.
    I would leave only one `new` view with the whole form and manage the looks of the form with js: 
    showing and hiding fields or options. Validate with JS too. 
    Or without JS: just show the whole form with instructions and 
    manage variations of requirements of fields with errors - there could be some kind of form object to save the state between renders.

    The fields of the form should be of proper types.
7. Transactions index page needs pagination, preloading of managers.

    `Money` helpers could be used to display amounts, default format could be set. Seems like there is duplication of logic here now -
    could take some extra cpu to make redundant calculations.
#### Others

1. Update Gems - could be security issues too
2. Use Rspec for DX
3. Add DX gems: linters, pry, codesmells, profilers, etc.
